/*
 * -------------------------------------------------
 *  NF-variant config file
 * -------------------------------------------------
 * Default config options
 *
 */

// Input and output parameters
params {

    // Workflow flags
    indivs_file = "/cfs/klemming/projects/supr/nrmdnalab_storage/projects/patric-f-natrix/analyses/nf-var/indivs_file.5.txt"
    chromos_file = "/cfs/klemming/projects/supr/nrmdnalab_storage/projects/patric-f-natrix/analyses/nf-var/chromos_file_1_2.txt"
    ref_file = "/cfs/klemming/projects/supr/nrmdnalab_storage/projects/patric-f-natrix/analyses/nf-var/GCA_964273705.fna"
    inputdir = "/cfs/klemming/projects/supr/nrmdnalab_storage/projects/patric-f-natrix/analyses/nf-var/bams"
    bams_fn = ".bam"
    outputdir = "/cfs/klemming/projects/supr/nrmdnalab_storage/projects/patric-f-natrix/analyses/nf-var/output_calc_coverage_i5_c1_2"

    sex_chromos = ['']

    index_bam_needed = false
    calc_coverage = true     // One option to run this workflow is in two goes. First run calc_coverage, after which filtering settings can be adjusted. IF SO, then set everything else to false
    indiv_var_call = false
    calc_missing_data = false
    call_consensus = false

    // For the sequencing depth plots, how many indivs per row?
    // NOTE: Ensure that each row has roughly the same number of indivs otherwise the last row is deformed
    plots_per_row = 7

    // Settings for variant calling and filtering
    filt_indels = true

    // Create mask files to exclude sites from consensus sequence
    mask_hets = true
    mask_cov = true
    mask_min_cov = 1
    mask_max_cov = 24

}


// Load base.config by default for all pipelines
includeConfig 'config/base.config'


// Cluster specific profiles that faciliate job scheduling and cluster requirements
profiles {

    curta {
        // Freie Universitat cluster
        includeConfig 'config/curta.config'
    }
    pdc_kth {
        // Dardel, www.pdc.kth.se
        includeConfig 'config/pdc_kth.config'
    }
    conda {
        conda.enabled = true
        conda.useMamba = true
        // conda.cacheDir = "/cfs/klemming/projects/supr/nrmdnalab_storage/src/NXF_CONDA_CACHEDIR"
        process.conda = "environment.yml"
    }
    singularity {
        singularity.enabled = true
        // singularity.cacheDir = "/cfs/klemming/projects/supr/nrmdnalab_storage/src/NXF_SINGULARITY_CACHEDIR"
    }
    apptainer {
        apptainer.enabled = true
        // apptainer.cacheDir = ""
    }
}
